<?xml version="1.0" encoding="utf-8"?>
<odoo>
	
	<record model="ir.ui.view" id="sb_open_demand_view_form">
        <field name="name">sb.open.demand.form</field>
        <field name="model">sb.open.demand</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
			<form>
				<header>
					<button name="set_active" states="Draft,Hold" type="object"  string="Set Active" class="oe_highlight"/>
					<button name="set_hold" states="Active" type="object"  string="Set Hold" class="oe_highlight"/>
					<button name="set_fulfilled" states="Active" type="object"  string="Set Fulfilled" class="oe_highlight"/>
					<button name="set_cancel" states="Active,Hold" type="object"  string="Cancel" class="oe_highlight"/>
					
					<field name='state' widget='statusbar'/>
				</header>
				<sheet>
					<group>
						<field name="name" readonly="1" required="1"/>
					</group>
					<group col="4" colspan="4">
						<field name="client_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="project_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="worksite_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<label for="street" string="Address" />
                            <div >
                                <div class="o_address_format" name="div_address">
                                    <field name="street" placeholder="Street..." class="o_address_street"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                    <field name="country_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
									<field name="state_id" class="o_address_state" placeholder="State" options="{'no_open': True, 'no_quick_create': True}" context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"/>
									<field name="city_id" placeholder="City" class="o_address_city"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                </div>
                            </div>
						<field name="sdm_ids" widget="many2many_tags" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name='owner_ids' widget="many2many_tags" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
					</group>
					<group col="4" colspan="4">
						<field name="resource_type" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="days_per_week" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="priority" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="client_poc_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="language_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="level_id" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="target_rate" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="assigned_date" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="expected_delivery_date" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="committed_date" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
					</group>
					<group col="4" colspan="4">
						<field name="required_quantity" attrs="{'required':True,'readonly':[('state','not in',['Draft','Active'])]}"/>
						<field name="application_received"/>
						<field name="application_pending"/>
						<field name="application_rejected"/>
						<field name="application_selected"/>
						<field name="balance"/>
					</group>
					<group>
						<field name="job_description"/>
						<field name="sdm_remarks"/>
						<field name="recruitment_remarks"/>
						
					</group>
					<notebook>
						<page string='Application' name='applications'>
							<field name='application_ids' readonly="1">
								<tree editable="bottom">
									<field name='number'/>
									<field name='name'/>
									<field name='partner_name'/>
									<field name='stage_id'/>
								</tree>
							</field>
						</page>
					</notebook>
				</sheet>
				<div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
			</form>
        </field>
	</record>
	<record model="ir.ui.view" id="sb_open_demand_view_tree">
        <field name="name">sb.open.demand.tree</field>
        <field name="model">sb.open.demand</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
			<tree>
				<field name="name"/>
				<field name="client_id"/>
				<field name="project_id"/>
				<field name="worksite_id"/>
				<field name="resource_type"/>
				<field name="priority"/>
				<field name="state"/>
			</tree>
        </field>
	</record>
	<record id="action_sb_open_demand" model="ir.actions.act_window">
        <field name="name">Open Demand</field>
        <field name="res_model">sb.open.demand</field>
        <field name="view_mode">tree,form</field>
    </record>


	<record model="ir.ui.view" id="inherit_hr_job_view_form">
        <field name="name">hr.job.form</field>
        <field name="model">hr.job</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="hr.view_hr_job_form"></field>
        <field name="arch" type="xml">
        	<xpath expr="/form/sheet/notebook/page[2]" position="after">
        		<page name="job_skill_set" string="Job Skill Sets">
        			<group col="2" colspan="2">
        				<field name="requirements_ids" widget="many2many_tags"/>
        			</group>
        		</page>
        	</xpath>
        
        </field>
	</record>
	
	<record model="ir.actions.act_window" id="hr_recruitment.action_hr_job">
        <field name="name">Job Positions</field>
        <field name="res_model">hr.job</field>
        <field name="view_mode">kanban,form</field>
        <field name="view_id" ref="hr_recruitment.view_hr_job_kanban"/>
        <field name="context">{}</field>
		<field name="domain">[('show_own_record','=',-1)]</field>
        <field name="help" type="html">
          <p class="o_view_nocontent_smiling_face">
              Ready to recruit more efficiently?
          </p><p>
              Let's create a job position.
          </p>
        </field>
    </record>
	
	
	
	<record model="ir.ui.view" id="inherit_hr_applicant_view_form">
        <field name="name">hr.applicant.form</field>
        <field name="model">hr.applicant</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"></field>
        <field name="arch" type="xml">
			<xpath expr="//button[@name='action_applications_email']" position='after'>
				<button class="oe_stat_button" type="object" string="Employee" name="action_view_employee" icon="fa-user" width='180px'/>
			</xpath>
			
			<xpath expr="//div[@class='oe_title']/h2[@class='o_row']/div" position='replace'>
			</xpath>
			<xpath expr="//field[@name='categ_ids']" position='replace'>
			</xpath>
			<xpath expr="//div[@name='button_box']" position="after" >
        		<div class="text-center">
	        		<h2>
	                    <strong><field name="number" attrs="{'readonly':True}"/></strong>
	                </h2>
                </div>
        	</xpath>
			<xpath expr='//group' position='attributes'>
				<attribute name='string'>Applicant Information</attribute>
			</xpath>

			<xpath expr="//field[@name='email_from']" position='before'>
				<field name='partner_name' string='First Name'/>
				<field name='gender' />
				<field name='birth_country' />
				<field name='marital_status' />
				<field name='categ_ids' widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"/>
			</xpath>
			
			<xpath expr="//field[@name='user_id']" position='before'>
				<field name='last_name' required='1'/>
				<field name='date_of_birth' />
				<!--<field name='birth_state' />-->
				<field name='applicant_nature'/>
			</xpath>
			<field name='user_id' position="attributes">
        		<attribute name='invisible'>True</attribute>
			</field>
			<field name='user_id' position="after">
        		<field name="team_id"/>
			</field>
			<xpath expr='//group/group[2]' position='after'>
				<group string='Applicant Address' colspan="4" col="4">
					<field name='house_no'/>
					<field name='street'/>
					<field name='country'/>
					<field name='state'/>
					<field name='city'/>
					<field name='zip'/>
				</group>
			</xpath>
			<xpath expr="//field[@name='partner_mobile']" position="attributes">
				<attribute name="string">Whatsapp Contact</attribute>
			</xpath>
			<xpath expr="//field[@name='partner_mobile']" position="after">
				<field name="skyp_id"/>
			</xpath>
			<xpath expr="//field[@name='job_id']" position='after'>
				<field name='demand_id'/>
				<field name='opportunity_id'/>
				<field name='customer'/>
				<field name='customer_project'/>
			</xpath>
			<xpath expr="//form/sheet/group" position="after">
				<group string='Internal Notes' name="internal_notes">
					<group>
						<field name='shortlisted_fte'/>
						<field name='dispatch'/>
						<field name='part_time'/>
						<label for="cv_review_score"/>
	                        <div class="o_row" name="cv_review_score">
	                            <field name="cv_review_score" nolabel="1"/>
	                            <span>/ 10</span>
	                        </div>
						<label for="interview_result_score"/>
	                        <div class="o_row" name="interview_result_score">
	                            <field name="interview_result_score" nolabel="1"/>
	                            <span>/ 10</span>
	                        </div>
					</group>
					<group>
						<field name='work_experience'/>
						<field name='partner'/>
						<field name='work_rights_status'/>
						<field name='primary_category'/>
					</group>
				</group>
			</xpath>
			<xpath expr="//field[@name='availability']" position='after'>
				
<!--				<field name='work_rights_copy' filename="work_rights_copy_name" />
			<field name='work_rights_copy_name' invisible="1"/>-->	
				
				<field name='notice_period'/>
				
				
			</xpath>
			<xpath expr="//field[@name='description']" position="after">
				<notebook>
					<page string='Education' name='education'>
						<field name='education_ids'>
							<tree>
								<field name="institute_id"/>
								<field name="degree_id"/>
								<field name="field_of_study"/>
								<field name="start_date"/>
								<field name="end_date"/>
								<field name="approx_date"/>
							</tree>
							<form>
								<group>
									<field name="institute_id"/>
								</group>
								<group  col="4" colspan="4">
									<field name="degree_id"/>
									<field name="field_of_study"/>
									<field name="start_date"/>
									<field name="end_date"/>
									<field name="approx_date"/>
								</group>
							</form>
						</field>
					</page>
					<page string='Employment History' name='employment_history'>
						<field name='experience_ids'>
							<tree>
								<field name="institute_id"/>
								<field name="job_title"/>
								<field name="currently_working"/>
								<field name="start_date"/>
								<field name="end_date"/>
								<field name="description"/>
								<field name="work_experience" filename="work_rights_copy_name"/>
								<field name="work_experience_name" invisible="1"/>
								<field name="approx_date"/>
							</tree>
							<form>
								<group>
									<field name="institute_id"/>
								</group>
								<group  col="4" colspan="4">
									<field name="job_title"/>
									<field name="currently_working"/>
									<field name="start_date"/>
									<field name="end_date"/>
									<field name="approx_date"/>
								</group>
								<group>
									<field name="description"/>
									<field name="work_experience" filename="work_rights_copy_name"/>
									<field name="work_experience_name" invisible="1"/>
								</group>
								
							</form>
						</field>
					</page>
					
					<page string='Certification' name='certification'>
						<field name='certification_ids'>
							<tree>
								<field name="type"/>
								<field name="title"/>
								<field name="number"/>
								<field name="issue_date"/>
								<field name="expiry_date"/>
								<field name="approx_date"/>
								<field name="limited_license"/>
							</tree>
							<form>
								<group>
									<field name="type"/>
								</group>
								<group  col="4" colspan="4">
									<field name="title"/>
									<field name="number"/>
									<field name="issue_date"/>
									<field name="expiry_date"/>
									<field name="approx_date"/>
								</group>
								<group>
									<field name="limited_license"/>
								</group>
							</form>
						</field>
					</page>
					<page string='Languages' name='languages'>
						<field name='language_ids'>
							<tree>
								<field name="language_id"/>
								<field name="level_id"/>
								<field name="is_native"/>
							</tree>
							<form>
								<group  col="4" colspan="4">
									<field name="language_id"/>
									<field name="level_id" options="{'no_open': True, 'no_create': True, 'no_edit':True}"/>
									<field name="is_native"/>
								</group>
								
							</form>
						</field>
					</page>
					<page string='Requirements' name='requirements'>
						<field name='requirement_ids'>
							<tree >
								<field name="sequence"/>
								<field name="skill_type"/>
								<field name="skill_id"/>
								<field name="level" attrs="{'invisible':[('skill_type','=','Equipment')]}"/>
								<field name="availablity" attrs="{'invisible':[('skill_type','=','Skillset')]}"/>
							</tree>
							<form>
								<group  col="4" colspan="4">
									<field name="sequence"/>
									<field name="skill_type"/>
									<field name="skill_id"/>
									<field name="level" attrs="{'invisible':[('skill_type','=','Equipment')]}"/>
									<field name="availablity" attrs="{'invisible':[('skill_type','=','Skillset')]}"/>
								</group>
								
							</form>
						</field>
					</page>
					<page string='Internal Evaluation' name='internal_evaluation'>
						<field name='internal_evalaution_ids'>
							<tree editable="bottom">
								<field name="sequence" invisible="1"/>
								<field name="internal_evaluation_id"/>
								<field name="level" widget="priority"/>
							</tree>
							<form>
								<group>
									<field name="sequence" invisible="1"/>
									<field name="internal_evaluation_id"/>
									<field name="level" widget="priority"/>
								</group>
								
							</form>
						</field>
					</page>
					<page string='Documents' name='documents'>
						<field name='document_ids'>
							<tree>
								<field name="sequence"/>
								<field name="document_id"/>
								<field name="attachment" filename='attachment_name'/>
								<field name="attachment_name" invisible='1'/>
							</tree>
							<form>
								<group>
									<field name="sequence"/>
									<field name="document_id"/>
									<field name="attachment" filename='attachment_name'/>
									<field name="attachment_name" invisible='1'/>
								</group>
								
							</form>
						</field>
					</page>
					<page string='Application Summary/Remarks' name='application_summary'>
    					<field name="description" placeholder="Feedback of interviews..."/>
					</page>
				</notebook>
			</xpath>
			<xpath expr="//separator" position="replace">
			</xpath>
			<xpath expr="//field[@name='description']" position="replace">
			</xpath>
        </field>
	</record>
	
	<record model="ir.actions.act_window" id="hr_recruitment.crm_case_categ0_act_job">
        <field name="name">Applications</field>
        <field name="res_model">hr.applicant</field>
        <field name="view_mode">kanban,tree,form,pivot,graph,calendar,activity</field>
        <field name="view_id" eval="False"/>
        <field name="search_view_id" ref="hr_recruitment.hr_applicant_view_search_bis"/>
        <field name="context">{}</field>
		<field name="domain">[('show_own_record','=',-1)]</field>
        <field name="help" type="html">
          <p class="o_view_nocontent_empty_folder">
            No applications yet
          </p><p>
            Odoo helps you track applicants in the recruitment
            process and follow up all operations: meetings, interviews, etc.
          </p><p>
            Applicants and their attached CV are created automatically when an email is sent.
            If you install the document management modules, all resumes are indexed automatically,
            so that you can easily search through their content.
          </p>
        </field>
    </record>
	
	<record model="ir.actions.act_window" id="hr_recruitment.action_hr_job_applications">
        <field name="name">Applications</field>
        <field name="res_model">hr.applicant</field>
        <field name="view_mode">kanban,tree,form,graph,calendar,pivot</field>
        <field name="search_view_id" ref="hr_recruitment.hr_applicant_view_search_bis"/>
        <field name="context">{'search_default_job_id': [active_id], 'default_job_id': active_id}</field>
<!--        <field name="domain">[('team_id','=',user.x_recruitment_team_id.id)]</field>
-->		<field name="domain">[('show_own_record','=',-1)]</field>
		<field name="help" type="html">
              <p class="o_view_nocontent_empty_folder">
                No applications yet
              </p><p>
                Odoo helps you track applicants in the recruitment
                process and follow up all operations: meetings, interviews, etc.
              </p><p>
                Applicants and their attached CV are created automatically when an email is sent.
                If you install the document management modules, all resumes are indexed automatically,
                so that you can easily search through their content.
              </p>
         </field>
    </record>

	<record model="ir.ui.view" id="inherit_res_lang_view_form">
        <field name="name">res.lang.form</field>
        <field name="model">res.lang</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="base.res_lang_form"></field>
        <field name="arch" type="xml">
			<xpath expr="//group[1]" position="after">
				<field name="lang_level_ids">
					<tree editable="bottom">
						<field name='name'/>
					</tree>
					<form>
						<field name='name'/>
					</form>
				</field>
			</xpath>
        </field>
	</record>
	
	
	<record id="hr_recruitment_team_view_form" model="ir.ui.view">
        <field name="name">hr.recruitment.team.form</field>
        <field name="model">hr.recruitment.team</field>
        <field name="arch" type="xml">
            <form string="Recruitment Team">
                <sheet>
                    <div class="oe_button_box" name="button_box"/>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only" string="Recruitment Team"/>
                        <h1>
                            <field name="name" placeholder="Recruitment Team name..."/>
                        </h1>
                        <div name="options_active" />
                    </div>
                    <group>
                        <group name="left">
                            <field name="active" invisible="1"/>
                            <field name="user_id" domain="[('share', '=', False)]"/>
                            <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                        </group>
                        <group name="right">
                        </group>
                    </group>
                    <notebook>
                        <page name="members" string="Team Members" >
                            <field name="member_ids" widget="many2many" options="{'not_delete': True}">
                                <kanban quick_create="false" create="true" delete="true">
                                    <field name="id"/>
                                    <field name="name"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="oe_kanban_global_click" style="max-width: 200px">
                                                <div class="o_kanban_record_top">
                                                    <img t-att-src="kanban_image('res.users', 'image_128', record.id.raw_value)" class="oe_avatar oe_kanban_avatar_smallbox o_image_40_cover mb0" alt="Avatar"/>
                                                    <div class="o_kanban_record_headings ml8">
                                                        <strong class="o_kanban_record_title"><field name="name"/></strong>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" help="Follow this salesteam to automatically track the events associated to users of this team."/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="hr_recruitment_team_view_tree" model="ir.ui.view">
        <field name="name">hr.recruitment.team.tree</field>
        <field name="model">hr.recruitment.team</field>
        <field name="field_parent">child_ids</field>
        <field name="arch" type="xml">
            <tree string="Recruitment Team" sample="1" multi_edit="1">
                <field name="sequence" widget="handle"/>
                <field name="name" readonly="1"/>
                <field name="active" invisible="1"/>
                <field name="user_id" domain="[('share', '=', False)]"/>
                <field name="company_id" groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>
	
	<record id="hr_recruitment_team_search" model="ir.ui.view">
        <field name="name">Recruitment Teams - Search</field>
        <field name="model">hr.recruitment.team</field>
        <field name="arch" type="xml">
            <search string="Recruitment Search">
                <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                <field name="name"/>
                <field name="user_id"/>
                <group expand="0" string="Group By...">
                    <filter string="Team Leader" name="team_leader" domain="[]" context="{'group_by':'user_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Sales Teams Actions -->
    <record id="action_hr_recruitment_team" model="ir.actions.act_window">
        <field name="name">Recruitment Teams</field>
        <field name="res_model">hr.recruitment.team</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="hr_recruitment_team_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Define a new Recruitment team
            </p>
        </field>
    </record>


</odoo>